---
title: 어디가냥? 같이가개! 제작기 (4)
date: "2025-07-23"
desc: React 팀 프로젝트 4탄 (https 개발 환경)
tags: ["CatsGoTogedog", "https", "mkcert", "secure", "file"]
---

## 1. https 개발환경
### -왜 필요할까
&nbsp;우리가 사용하는 ==Vite==나 ==Next==에서 제공하는 개발 서버, 즉 ==localhost==는 기본적으로 ==http==환경에서 실행됩니다. 하지만 우리는 개발 서버가 ==https==로 구성되어야 할 상황을 맞닥뜨리게 됩니다.

가령, 이전 게시물에서 설명한 ==Refesh Token==을 백엔드로부터 크로스 사이트 쿠키로 발급받는 상황 같은 것일 수 있겠습니다.
이번 프로젝트에서는 프론트엔드와 백엔드가 별개의 도메인으로 구성되어있어 로그인 시스템을 로컬환경에서 구현하려면 개발서버가 ==https==로 구성되어야 했습니다.

이러한 ==https==환경을 위해서는 ==SSL/TLS==인증서가 필요하며, 이를 발급하여 개발 환경에 적용하는 방법을 알아보겠습니다.

***

## 2. mkcert
### -mkcert란?
&nbsp;본래 브라우저는 "공인된 ==CA=="가 발급한 인증서만 신뢰합니다. 그런데 이를 발급받고 관리 하는 것은 보다 전문적이고 복잡한 지식과 명령을 필요로 합니다.
==mkcert==는 로컬 시스템에 자체 ==CA==를 설치하고, 신뢰할 수 있는 SSL/TLS 인증서를 쉽게 생성할 수 있도록 도와주는 툴입니다. 이를 통해 우리는 로컬에서 ==https==환경을 구축할 수 있습니다.

### -발급
==MAC OS==환경에서 설명드립니다. 먼저, 
```bash
brew install mkcert
```
를 통해 ==mkcert==를 설치해주고, 


```bash
mkcert -install
```
로컬 ==CA==를 생성한 후 루트 인증서를 ==OS==와 ==브라우저==의 ==신뢰 저장소==에 등록합니다. 이를 통해 ==mkcert==에서 발급한 인증서를 ==브라우저==에서 신뢰하게 됩니다. 이후, 

```bash
mkcert localhost 127.0.0.1 ::1
```
를 통해 인증서를 발급해주면 터미널 위치에
![인증서 발급 성공](/postImgs/blog/catsgotogedog4/1.png)
localhost+1.pem, localhost+1-key.pem 파일 두개가 생성됩니다. *(경우에 따라 숫자가 다를 수 있습니다.)*

### -적용과 환경구축
&nbsp;그럼 생성된 두 파일을 현재 개발중인 프로젝트 폴더에 넣어줍니다. 저 같은 경우 관리가 용이하도록 루트폴더에 ==cert==라는 폴더를 만들어 그 안에 넣어두었습니다.
이제 프로젝트 빌드 툴이 두 파일을 적용할 수 있게 연결만 해주면됩니다.
이번 프로젝트의 경우 ==Vite==로 구축되어있기 때문에 기준으로 설명 드리겠습니다.

>/vite.config.ts
```ts
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";
import tailwindcss from "@tailwindcss/vite";
import svgr from "vite-plugin-svgr";
import path from "path";
import fs from "fs";

// https://vite.dev/config/
export default defineConfig(({ mode }) => {
  const isDev = mode === "development";

  return {
    plugins: [react(), tailwindcss(), svgr()],
    resolve: {
      alias: {
        "@": path.resolve(__dirname, "./src"),
      },
    },
    server: isDev
      ? {
          https: {
            key: fs.readFileSync("./cert/localhost+1-key.pem"),
            cert: fs.readFileSync("./cert/localhost+1.pem"),
          }, 
        }
      : {},
  };
});
```
이렇게 `server: isDev`속성을 사용하여, 개발 서버가 실행될 경우, 경로의 인증서를 읽어 ==https==환경을 구축할 수 있게 구현하였습니다. 
> 추가로 sever 객체 안에 `port: nnnn`을 넣어 포트번호도 설정할 수 있습니다. 백엔드에서 개발환경을 위해 ==cross-origin==허용 도메인이 필요할 경우 협의를 통해 설정 할 수 있습니다.

이렇게 설정이 완료되면 

![https 개발 서버](/postImgs/blog/catsgotogedog4/2.png)
이렇게 개발서버가 ==https==로 구동되는 것을 확인 할 수 있습니다.
## 3. 마치며
&nbsp;이번 게시물에서는 ==mkcert==을 이용하여 ==https== 개발환경 구축에 대해 알아보았습니다. 혹시 궁금한 점이나 피드백이 있으시면 댓글 남겨주세요